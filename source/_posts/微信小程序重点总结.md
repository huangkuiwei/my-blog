---
title: 微信小程序重点总结
date: 2018-11-05 21:33:45
author: huangkuiwei
img: http://pic.ossfiles.cn:9186/group1/M00/15/1D/rBgIBlx579L_a7lKAAAf12qXaR0168.jpg
tags: 
    - 微信小程序
    - JavaScript
---
#### 1. 小程序首页
`app.json`文件定义目录路径如下：
```json
{
  "pages": [
    "pages/index/index",
    "pages/logs/logs"
  ]
}
```
写在`pages`字段的第一个页面就是这个小程序的首页（打开小程序看到的第一个页面）。上面的首页就是`index`页面。
#### 2. 小程序执行时机和页面执行顺序
以路径`pages/index/index`为例：
>1. 小程序启动之后，在`app.js`定义的`App`实例的`onLaunch`回调会被执行。
>2. 接着会进入`index`页面，微信客户端会先根据`index.json`配置生成一个界面，顶部的颜色和文字你都可以在这个 json 文件里边定义好。紧接着客户端就会装载这个页面的`WXML`结构和`WXSS`样式。最后客户端会装载`index.js`。你可以看到`index.js`的大体内容就是:
```javascript
  Page({
    data: { // 参与页面渲染的数据
      logs: []
    },
    onLoad: function () {
      // 页面渲染后 执行
    }
  })
```
>3. `Page`是一个页面构造器，这个构造器就生成了一个页面。在生成页面的时候，小程序框架会把`data`数据和`index.wxml`一起渲染出最终的结构，于是就得到了你看到的小程序的样子。
>4. 在渲染完界面之后，页面实例就会收到一个`onLoad`的回调，你可以在这个回调处理你的逻辑。
















